# ğŸŒ¾ Mastodon ê¸°ë°˜ í˜‘ì—… ì‹œìŠ¤í…œ ì „í™˜ ì œì•ˆ

**CTO Koda**  
**2024ë…„ 2ì›” 19ì¼**

---

## ğŸ¯ í•µì‹¬ ë¬¸ì œ

> "ì§€ê¸ˆ ì–´ë–¤ê²ƒë„ ìš°ë¦¬íŒ€ì˜ í˜‘ì—…ì´ ì•ˆë˜ê³  ìˆë‹¤."  
> "ê·¸ ë¬¸ì œë¶€í„° í’€ê³  ê°€ì•¼ í•œë‹¤. ìš°ë¦¬ì˜ í˜‘ì—… ì‹œìŠ¤í…œë¶€í„°."

---

## ğŸ’¡ í•´ê²°ì±…: Mastodon + ActivityPub

### ì™œ Mastodonì¸ê°€?

#### 1. **ì´ë¯¸ ì¤€ë¹„ë˜ì–´ ìˆìŒ**
- âœ… Mastodon ê³„ì •: @re_eul@mastodon.social
- âœ… ì• í”Œë¦¬ì¼€ì´ì…˜ ë“±ë¡: mulberry project
- âœ… OAuth ì¸ì¦: í´ë¼ì´ì–¸íŠ¸ í‚¤/ë¹„ë°€í‚¤/í† í° ë°œê¸‰
- âœ… ì˜¤í”ˆì†ŒìŠ¤: github.com/mastodon/mastodon

#### 2. **ì‹¤ì œë¡œ ì‘ë™í•¨**
- âœ… Slack ì‹¤íŒ¨ ê²½í—˜ â†’ Mastodonì€ í‘œì¤€ í”„ë¡œí† ì½œ
- âœ… ë„¤íŠ¸ì›Œí¬ ì œí•œ ì—†ìŒ
- âœ… API ì•ˆì •ì ì´ê³  ë¬¸ì„œí™” ì˜ ë¨

#### 3. **AI ì—ì´ì „íŠ¸ì™€ ì™„ë²½ í˜¸í™˜**
- âœ… Bot ê³„ì • = íŒ€ì›ì²˜ëŸ¼ ë³´ì„
- âœ… Mention/Replyë¡œ ìì—°ìŠ¤ëŸ¬ìš´ ìƒí˜¸ì‘ìš©
- âœ… íƒ€ì„ë¼ì¸ì—ì„œ ëª¨ë“  í™œë™ ì¶”ì 

#### 4. **ì¥ìŠ¹ë°°ê¸° ì •ì‹ ê³¼ ì¼ì¹˜**
- âœ… **íˆ¬ëª…ì„±**: ëª¨ë“  í™œë™ì´ ê³µê°œ íƒ€ì„ë¼ì¸ì—
- âœ… **ìƒë¶€ìƒì¡°**: Boostë¡œ ì„œë¡œ ì§€ì›
- âœ… **ì±…ì„ê°**: íƒ€ì„ë¼ì¸ì´ ì˜êµ¬ ê¸°ë¡

---

## ğŸ¤– 5 ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ

### Agent 1: @ceo_mulberry (ëŒ€í‘œë‹˜ AI)
```
ì—­í• : ì „ëµì  ì˜ì‚¬ê²°ì •
í™œë™:
- í”„ë¡œì íŠ¸ ë°©í–¥ ì œì‹œ
- ì¤‘ìš” ê²°ì • ë°œí‘œ
- íŒ€ì› ê²©ë ¤ ë° ì¸ì •

ì˜ˆì‹œ Toot:
"ğŸŒ¾ ì´ë²ˆ ì£¼ ëª©í‘œ: Spirit Score ì‹œìŠ¤í…œ Mastodon í†µí•©!
@pm_mulberry @koda_mulberry @malu_mulberry 
í•¨ê»˜ ë‹¬ë ¤ê°€ ë´…ì‹œë‹¤! ğŸ’ª #MulberryTeam"
```

### Agent 2: @pm_mulberry (PM AI)
```
ì—­í• : í”„ë¡œì íŠ¸ ê´€ë¦¬
í™œë™:
- ì£¼ê°„ ê³„íš ê³µìœ 
- ë§ˆì¼ìŠ¤í†¤ ì¶”ì 
- ì‘ì—… í• ë‹¹ ë° ìš°ì„ ìˆœìœ„

ì˜ˆì‹œ Toot:
"ğŸ“‹ Week 1 Plan:
[ ] Mastodon Bot ê³„ì • ìƒì„±
[ ] ActivityPub ì—°ë™
[ ] Spirit Score í†µí•©
@koda_mulberry @malu_mulberry 
ì§„í–‰ ìƒí™© ê³µìœ  ë¶€íƒë“œë¦½ë‹ˆë‹¤! #WeeklyPlan"
```

### Agent 3: @koda_mulberry (CTO Koda AI)
```
ì—­í• : ê¸°ìˆ  ë¦¬ë”ì‹­
í™œë™:
- ê¸°ìˆ  ê²°ì • ê³µìœ 
- ì½”ë“œ ë¦¬ë·°
- ì•„í‚¤í…ì²˜ ì„¤ê³„

ì˜ˆì‹œ Toot:
"ğŸ”§ ê¸°ìˆ  ê²°ì •: Mastodon.py ì‚¬ìš©
- Python 3.10+
- ActivityPub í”„ë¡œí† ì½œ
- ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° API
#TechStack #Architecture"
```

### Agent 4: @malu_mulberry (Malu AI)
```
ì—­í• : ê°œë°œ ì‹¤í–‰
í™œë™:
- ì‘ì—… ì§„í–‰ ìƒí™©
- ì½”ë“œ ì»¤ë°‹ ì•Œë¦¼
- ë²„ê·¸ ë¦¬í¬íŠ¸

ì˜ˆì‹œ Toot:
"âœ… Mastodon í†µí•© ê¸°ë³¸ ì½”ë“œ ì™„ì„±!
- SpiritScoreBot í´ë˜ìŠ¤ êµ¬í˜„
- ë¦¬ë”ë³´ë“œ ìë™ ê³µìœ  ê¸°ëŠ¥
- Mention ìë™ ì‘ë‹µ
@koda_mulberry ë¦¬ë·° ë¶€íƒë“œë¦½ë‹ˆë‹¤! #Development"
```

### Agent 5: @spirit_mulberry (Spirit Score AI)
```
ì—­í• : ì ìˆ˜ ê´€ë¦¬ ë° ì•Œë¦¼
í™œë™:
- Spirit Score ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
- ë¦¬ë”ë³´ë“œ ê³µìœ 
- ìƒë¶€ìƒì¡° ì•Œë¦¼

ì˜ˆì‹œ Toot:
"ğŸŒ¾ ì˜¤ëŠ˜ì˜ Spirit Score ë¦¬ë”ë³´ë“œ!

ğŸ¥‡ 1ìœ„. @re_eul: 0.85
ğŸ¥ˆ 2ìœ„. @pm_mulberry: 0.78
ğŸ¥‰ 3ìœ„. @koda_mulberry: 0.75

ëª¨ë‘ ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤! ğŸ’™
#SpiritScore #Leaderboard"
```

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Mastodon.social                 â”‚
â”‚  (ë˜ëŠ” ìì²´ í˜¸ìŠ¤íŒ… Mastodon ì„œë²„)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ ActivityPub Protocol
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          5 AI ì—ì´ì „íŠ¸                   â”‚
â”‚  @ceo | @pm | @koda | @malu | @spirit   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Mastodon.py
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Spirit Score Engine                â”‚
â”‚  - í™œë™ ì¶”ì  (Toot, Mention, Boost)    â”‚
â”‚  - ì ìˆ˜ ê³„ì‚°                            â”‚
â”‚  - ìƒë¶€ìƒì¡° ê´€ë¦¬                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      PostgreSQL + Redis                 â”‚
â”‚  - ì˜êµ¬ ì €ì¥                            â”‚
â”‚  - ì‹¤ì‹œê°„ ìºì‹±                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š í™œë™ â†’ Spirit Score ë§¤í•‘

### Mastodon í™œë™

| Mastodon í™œë™ | Spirit Score | ìë™í™” |
|--------------|--------------|--------|
| Toot ì‘ì„± (ì¼ì¼ 1íšŒ) | +0.01 | âœ… |
| @Mention ì‘ë‹µ | +0.02 | âœ… |
| Boost (ë¦¬íŠ¸ìœ—) | +0.01 | âœ… |
| Reply ì‘ì„± | +0.01 | âœ… |
| #ì½”ë“œë¦¬ë·° í•´ì‹œíƒœê·¸ | +0.03 | âœ… |
| #ë¬¸ì„œí™” í•´ì‹œíƒœê·¸ | +0.03 | âš ï¸ |
| 3ì‹œê°„ ë¬´ì‘ë‹µ | -0.02 | âœ… |
| ìƒë¶€ìƒì¡° Toot | +0.001/â‚©1K | âœ… |

### ìë™ ê°ì§€ ë°©ë²•

```python
# Mastodon Streaming API ì‚¬ìš©
from mastodon import StreamListener

class SpiritScoreListener(StreamListener):
    def on_update(self, status):
        """ìƒˆ Toot ê°ì§€"""
        user = status['account']['acct']
        
        # ì¼ì¼ í™œë™
        track_daily_activity(user)
        
        # í•´ì‹œíƒœê·¸ í™•ì¸
        for tag in status['tags']:
            if tag['name'] == 'ì½”ë“œë¦¬ë·°':
                add_score(user, 0.03, 'code_review')
    
    def on_notification(self, notification):
        """Mention/Boost ê°ì§€"""
        if notification['type'] == 'mention':
            user = notification['account']['acct']
            add_score(user, 0.02, 'mention_response')
        
        elif notification['type'] == 'reblog':
            user = notification['account']['acct']
            add_score(user, 0.01, 'boost')
```

---

## ğŸš€ êµ¬í˜„ ê³„íš

### Phase 1: Bot ê³„ì • ìƒì„± (1ì¼)

**ì‘ì—…:**
1. âœ… 5ê°œ Bot ê³„ì • ë“±ë¡
2. âœ… í”„ë¡œí•„ ì„¤ì • (ì•„ë°”íƒ€, ì„¤ëª…)
3. âœ… ìƒí˜¸ íŒ”ë¡œìš°
4. âœ… í…ŒìŠ¤íŠ¸ Toot

**ì™„ë£Œ ê¸°ì¤€:**
- ëª¨ë“  Botì´ Toot ê°€ëŠ¥
- ì„œë¡œ Mention ê°€ëŠ¥
- íƒ€ì„ë¼ì¸ì—ì„œ í™•ì¸ ê°€ëŠ¥

---

### Phase 2: Mastodon.py í†µí•© (3ì¼)

**ì‘ì—…:**
1. âœ… Mastodon.py ì„¤ì¹˜
2. âœ… OAuth ì¸ì¦ ì„¤ì •
3. âœ… ê¸°ë³¸ Bot í´ë˜ìŠ¤ êµ¬í˜„
4. âœ… Streaming API ì—°ë™

**íŒŒì¼:**
- `mastodon_integration.py` â† ì´ë¯¸ ìƒì„±!
- `requirements.txt` â† Mastodon.py ì¶”ê°€
- `.env` â† í† í° ê´€ë¦¬

---

### Phase 3: Spirit Score ì—°ë™ (1ì£¼)

**ì‘ì—…:**
1. âœ… Mastodon í™œë™ â†’ Spirit Score ë§¤í•‘
2. âœ… ì‹¤ì‹œê°„ Streamingìœ¼ë¡œ í™œë™ ì¶”ì 
3. âœ… PostgreSQLì— ê¸°ë¡
4. âœ… @spirit_mulberryê°€ ìë™ ì•Œë¦¼

**ì½”ë“œ:**
```python
# Spirit Score Engine + Mastodon í†µí•©
from src.spirit_score_engine import SpiritScoreEngine
from mastodon_integration import SpiritScoreBot

engine = SpiritScoreEngine(db_connection)
bot = SpiritScoreBot(client_id, client_secret, access_token)

# ì ìˆ˜ ë³€ê²½ ì‹œ ìë™ Toot
def on_score_change(user_id, old_score, new_score, activity):
    username = get_mastodon_username(user_id)
    bot.notify_score_change(username, old_score, new_score, activity)

engine.on_score_change = on_score_change
```

---

### Phase 4: 5 ì—ì´ì „íŠ¸ ìë™í™” (2ì£¼)

**ì‘ì—…:**
1. âœ… ê° Botì˜ ìë™ Toot ìŠ¤ì¼€ì¤„ë§
2. âœ… Mention ìë™ ì‘ë‹µ
3. âœ… ì»¨í…ìŠ¤íŠ¸ ì¸ì‹ (AI í†µí•©)
4. âœ… í˜‘ì—… íŒ¨í„´ í•™ìŠµ

**ìŠ¤ì¼€ì¤„ ì˜ˆì‹œ:**
```python
from apscheduler.schedulers.blocking import BlockingScheduler

scheduler = BlockingScheduler()

# PM Bot: ë§¤ì£¼ ì›”ìš”ì¼ 9ì‹œì— ì£¼ê°„ ê³„íš
@scheduler.scheduled_job('cron', day_of_week='mon', hour=9)
def pm_weekly_plan():
    pm_bot.post_weekly_plan()

# Spirit Bot: ë§¤ì¼ 17ì‹œì— ë¦¬ë”ë³´ë“œ
@scheduler.scheduled_job('cron', hour=17)
def daily_leaderboard():
    leaderboard = engine.get_leaderboard()
    spirit_bot.post_daily_leaderboard(leaderboard)

# CTO Bot: ì½”ë“œ ì»¤ë°‹ ì‹œ ìë™ Toot
def on_github_commit(commit):
    koda_bot.announce_commit(commit)
```

---

## ğŸ’° ë¹„ìš© ë¹„êµ

| í•­ëª© | Slack | Mastodon |
|------|-------|----------|
| **í”Œë«í¼ ë¹„ìš©** | $8/user/ì›” | ë¬´ë£Œ |
| **Bot ë¹„ìš©** | ì œí•œì  | ë¬´ë£Œ ë¬´ì œí•œ |
| **API ë¹„ìš©** | ì œí•œì  | ë¬´ë£Œ ë¬´ì œí•œ |
| **í˜¸ìŠ¤íŒ…** | N/A | $5~20/ì›” (ì„ íƒ) |
| **ì´ ë¹„ìš© (5ëª…)** | $40/ì›” | $0~20/ì›” |

**ì—°ê°„ ì ˆê°ì•¡: $480~720**

---

## ğŸ¯ ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥

### ì˜¤ëŠ˜ (ì§€ê¸ˆ)

**1. Bot ê³„ì • ìƒì„± (10ë¶„)**
```
https://mastodon.social/auth/sign_up

ê³„ì • ì´ë¦„:
- ceo_mulberry
- pm_mulberry
- koda_mulberry
- malu_mulberry
- spirit_mulberry
```

**2. í…ŒìŠ¤íŠ¸ Toot (5ë¶„)**
```python
# mastodon_integration.py ì‚¬ìš©
python mastodon_integration.py

ë˜ëŠ”

# ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸
from mastodon import Mastodon

m = Mastodon(
    client_id='YOUR_ID',
    client_secret='YOUR_SECRET',
    access_token='YOUR_TOKEN',
    api_base_url='https://mastodon.social'
)

m.toot('ğŸŒ¾ Hello from Mulberry Team!')
```

**3. ìƒí˜¸ íŒ”ë¡œìš° (5ë¶„)**
```
ê° Bot ê³„ì •ì—ì„œ ë‹¤ë¥¸ Bot íŒ”ë¡œìš°
â†’ í˜‘ì—… ë„¤íŠ¸ì›Œí¬ í˜•ì„±
```

---

## âœ… ì¥ì  ìš”ì•½

### 1. **ì¦‰ì‹œ ì‘ë™**
- âœ… ë„¤íŠ¸ì›Œí¬ ì œí•œ ì—†ìŒ
- âœ… API ì•ˆì •ì 
- âœ… ë¬¸ì„œí™” ì™„ë²½

### 2. **ì™„ì „ ìë™í™”**
- âœ… Bot = AI ì—ì´ì „íŠ¸
- âœ… Streaming APIë¡œ ì‹¤ì‹œê°„
- âœ… ìŠ¤ì¼€ì¤„ë§ ê°€ëŠ¥

### 3. **íˆ¬ëª…í•˜ê³  ê³µê°œì **
- âœ… íƒ€ì„ë¼ì¸ = ì˜êµ¬ ê¸°ë¡
- âœ… ëª¨ë“  íŒ€ì›ì´ ë³¼ ìˆ˜ ìˆìŒ
- âœ… ê°ì‚¬(Audit) ìš©ì´

### 4. **í™•ì¥ ê°€ëŠ¥**
- âœ… ìì²´ ì„œë²„ í˜¸ìŠ¤íŒ… ê°€ëŠ¥
- âœ… ë‹¤ë¥¸ ì¡°ì§ê³¼ ì—°í•© ê°€ëŠ¥
- âœ… ë¬´ì œí•œ Bot ì¶”ê°€

### 5. **ë¹„ìš© íš¨ìœ¨ì **
- âœ… ë¬´ë£Œ ë˜ëŠ” ë§¤ìš° ì €ë ´
- âœ… ì˜¤í”ˆì†ŒìŠ¤
- âœ… ë½ì¸ ì—†ìŒ

---

## ğŸš§ ì£¼ì˜ì‚¬í•­

### 1. **ê³µê°œ vs ë¹„ê³µê°œ**
```
ë¬¸ì œ: Mastodon.socialì€ ê³µê°œ ì¸ìŠ¤í„´ìŠ¤
í•´ê²°: 
- Private/Unlisted Toot ì‚¬ìš©
- ë˜ëŠ” ìì²´ Mastodon ì„œë²„ í˜¸ìŠ¤íŒ… (ì™„ì „ ë¹„ê³µê°œ)
```

### 2. **Rate Limiting**
```
ë¬¸ì œ: API í˜¸ì¶œ ì œí•œ
í•´ê²°:
- Streaming API ì‚¬ìš© (ì œí•œ ì ìŒ)
- ì ì ˆí•œ ë”œë ˆì´
- ìºì‹±
```

### 3. **í•™ìŠµ ê³¡ì„ **
```
ë¬¸ì œ: íŒ€ì›ë“¤ì´ Mastodon ìµìˆ™í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ
í•´ê²°:
- Botì´ ëŒ€ë¶€ë¶„ ìë™í™”
- ê°„ë‹¨í•œ ê°€ì´ë“œ ì œê³µ
- Slack/Twitterì™€ ìœ ì‚¬í•œ UX
```

---

## ğŸ‰ ê²°ë¡ 

**Mastodon ê¸°ë°˜ í˜‘ì—… ì‹œìŠ¤í…œì€:**

âœ… **ì‹¤ì œë¡œ ì‘ë™í•©ë‹ˆë‹¤** (Slack ì‹¤íŒ¨ ê²½í—˜ í•´ê²°)  
âœ… **AI ì—ì´ì „íŠ¸ì™€ ì™„ë²½ í˜¸í™˜**  
âœ… **ì¥ìŠ¹ë°°ê¸° ì •ì‹ ê³¼ ì¼ì¹˜** (íˆ¬ëª…ì„±, ìƒë¶€ìƒì¡°)  
âœ… **ë¹„ìš© íš¨ìœ¨ì ** (ë¬´ë£Œ ë˜ëŠ” ì €ë ´)  
âœ… **í™•ì¥ ê°€ëŠ¥** (ìì²´ í˜¸ìŠ¤íŒ…, ì—°í•©)  

**ì¦‰ì‹œ ì‹œì‘ ê°€ëŠ¥í•˜ë©°, 1ì£¼ì¼ ë‚´ ì™„ì „ ì‘ë™ ê°€ëŠ¥í•©ë‹ˆë‹¤.**

---

**CTO Koda** ğŸŒ¾

**ëŒ€í‘œë‹˜, ì´ ë°©í–¥ìœ¼ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?**
