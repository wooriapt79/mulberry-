# Mulberry Platform - Environment Variables
# Copy this file to .env and fill in your values

# ============================================
# Application
# ============================================
APP_NAME=Mulberry Platform
APP_VERSION=4.0.0
APP_ENV=production  # development, staging, production
DEBUG=false

# ============================================
# Server
# ============================================
HOST=0.0.0.0
PORT=8000
WORKERS=4

# ============================================
# DeepSeek AI (사투리 변환)
# ============================================
DEEPSEEK_MODEL_PATH=/opt/mulberry/models/deepseek-r1-distill-qwen-7b-q4_k_m.gguf
DEEPSEEK_CONTEXT_LENGTH=4096
DEEPSEEK_GPU_LAYERS=35
DEEPSEEK_THREADS=4

# ============================================
# Qwen AI (스토리텔링)
# ============================================
QWEN_API_KEY=your_qwen_api_key_here
QWEN_API_BASE=https://api.qwen.ai/v1

# ============================================
# Whisper (음성 인식)
# ============================================
WHISPER_MODEL=base  # tiny, base, small, medium, large
WHISPER_LANGUAGE=ko
WHISPER_DEVICE=cpu  # cpu or cuda

# ============================================
# Mastodon (SNS)
# ============================================
MASTODON_INSTANCE=https://mastodon.social
MASTODON_ACCESS_TOKEN=your_mastodon_token_here
MASTODON_CLIENT_ID=your_client_id_here
MASTODON_CLIENT_SECRET=your_client_secret_here

# ============================================
# Google Business
# ============================================
GOOGLE_API_KEY=your_google_api_key_here
GOOGLE_CREDENTIALS_PATH=./secrets/google_credentials.json
GOOGLE_BUSINESS_LOCATION_ID=your_location_id_here

# ============================================
# Payment (결제)
# ============================================
PAYMENT_GATEWAY=toss  # toss, kakao, naver
PAYMENT_API_KEY=your_payment_api_key_here
PAYMENT_SECRET_KEY=your_payment_secret_key_here

# ============================================
# Database
# ============================================
DATABASE_URL=postgresql://user:password@localhost:5432/mulberry
# Or SQLite for development:
# DATABASE_URL=sqlite:///./mulberry.db

# ============================================
# Redis (Caching & Queue)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# ============================================
# Sentinel (Malu 관제)
# ============================================
SENTINEL_ENDPOINT=https://sentinel.mulberry.kr/api/advisor/report
SENTINEL_API_KEY=your_sentinel_api_key_here
SENTINEL_REPORT_INTERVAL=3600  # seconds (1 hour)

# Emergency Thresholds
SENTINEL_ALERT_THRESHOLD_REVENUE_DROP=20  # 20% 매출 하락
SENTINEL_ALERT_THRESHOLD_ERROR_RATE=5  # 5% 오류율

# ============================================
# Business Settings
# ============================================
# Profit Optimization
TARGET_MARGIN=0.20  # 목표 마진율 20%
MIN_MARGIN=0.10  # 최소 마진율 10%
MAX_MARGIN=0.50  # 최대 마진율 50%

# Inventory
INVENTORY_CHECK_INTERVAL=600  # seconds (10 minutes)
INVENTORY_CRITICAL_THRESHOLD=10
INVENTORY_LOW_THRESHOLD=30
INVENTORY_OPTIMAL_THRESHOLD=100

# ============================================
# Store Mode (거점 매장)
# ============================================
OPERATION_MODE=store  # store or home
CLERK_NOTIFICATION_ENABLED=true
VOICE_OUTPUT_ENABLED=false
LOG_CUSTOMER_DATA=false
AUTO_DELETE_AFTER_HOURS=24

# ============================================
# Security
# ============================================
SECRET_KEY=your_very_secret_key_here_change_this
JWT_SECRET=your_jwt_secret_here
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600  # seconds

# ============================================
# Logging
# ============================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=./logs/mulberry.log
LOG_MAX_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=5

# ============================================
# Hardware (Raspberry Pi)
# ============================================
RASPBERRY_PI_ENABLED=true
GPIO_PIN_LED=17
GPIO_PIN_BUTTON=27
GPIO_PIN_SPEAKER=22

# ============================================
# Development
# ============================================
# Only use in development
DEV_SKIP_AUTH=false
DEV_MOCK_AI=false
DEV_MOCK_PAYMENT=true

# ============================================
# Testing
# ============================================
TEST_DATABASE_URL=sqlite:///./test.db
TEST_REDIS_DB=1

# ============================================
# Monitoring
# ============================================
PROMETHEUS_PORT=9090
METRICS_ENABLED=true

# ============================================
# Notes
# ============================================
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in your actual values
# 3. Never commit .env to Git!
# 4. Keep this .env.example updated when adding new variables
